!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("gsap"),require("react-is")):"function"==typeof define&&define.amd?define(["exports","react","gsap","react-is"],e):e((t=t||self)["react-gsap"]={},t.React,t.gsap$2,t.reactIs)}(this,(function(t,e,r,n){"use strict";var i,o="default"in e?e.default:e;function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function l(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)e.indexOf(r=o[n])>=0||(i[r]=t[r]);return i}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t){var e=0;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(t){if("string"==typeof t)return p(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,void 0):void 0}}(t)))return function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(e=t[Symbol.iterator]()).next.bind(e)}(i=t.PlayState||(t.PlayState={})).play="play",i.reverse="reverse",i.stop="stop",i.pause="pause";var g,h,f,d=function(e,r,n){void 0===n&&(n=null),n&&e&&e!==r&&(e===t.PlayState.play?r===t.PlayState.pause||r===t.PlayState.reverse?n.play():n.restart(!0):e===t.PlayState.reverse?r===t.PlayState.pause||r===t.PlayState.play?n.reverse():n.reverse(0):e===t.PlayState.stop?n.pause(0):e===t.PlayState.pause&&n.pause())},m=function(t,e){var n,i=e.duration,o=void 0===i?1:i,s=e.from,u=e.to,p=e.stagger,c=e.progress,g=e.totalProgress,h=e.playState,f=e.onCompleteAll,m=e.onCompleteAllParams,y=e.onCompleteAllScope,v=e.onStartAll,S=l(e,["children","wrapper","duration","from","to","stagger","progress","totalProgress","playState","disabled","onlyInvalidateTo","onCompleteAll","onCompleteAllParams","onCompleteAllScope","onStartAll","position","target"]);return n=s&&u?r.gsap.fromTo(t,s,a(a({stagger:p,duration:o},u),S)):u?r.gsap.to(t,a(a({stagger:p,duration:o},u),S)):r.gsap.from(t,a(a({stagger:p,duration:o},s),S)),Array.isArray(n)&&(n.forEach((function(t){t.paused(!1)})),n=r.gsap.timeline(a(a({},S),{},{tweens:n,smoothChildTiming:!0,onComplete:f,onCompleteParams:m,onCompleteScope:y,onStart:v}))),c&&n.progress(c),g&&n.totalProgress(g),h&&d(h,null,n),n},y=function(t){return t.type.$$typeof&&"Symbol(react.forward_ref)"===t.type.$$typeof.toString()?"ref":t.type.styledComponentId?"innerRef":"ref"},v=function(t,e){return null==t?e:t},S=o.createContext({registerConsumer:function(){}}),b=function(t){function e(e){var r;return(r=t.call(this,e)||this).consumers=[],r.registerConsumer=r.registerConsumer.bind(u(r)),r.getContextValue=r.getContextValue.bind(u(r)),r.renderWithProvider=r.renderWithProvider.bind(u(r)),r}s(e,t);var r=e.prototype;return r.registerConsumer=function(t){this.consumers.push(t)},r.getContextValue=function(){return{registerConsumer:this.registerConsumer}},r.renderWithProvider=function(t){return o.createElement(S.Provider,{value:this.getContextValue()},t)},e}(o.Component);function P(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function w(t){for(var e=t.points,r=0,n=void 0,i=0;i<e.numberOfItems;i++){var o=e.getItem(i);n&&(r+=P(n,o)),n=o}return r}var C,T,A,E={version:"2.0.0",name:"svgDraw",register:function(t,e,r){h=(g=t).utils.interpolate,f=g.getProperty},init:function(t,e,r,n,i){var o=function(t){if(t.getTotalLength)return function(t){if(!t.hasAttribute("d"))return t.getTotalLength();var e=t.getAttribute("d"),r=e?e.replace(/m/gi,"M"):null;if(!r)return t.getTotalLength();var n=r.split("M").filter((function(t){return""!==t})).map((function(t){return"M"+t}));if(1===n.length)return t.getTotalLength();var i=0;return n.forEach((function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",t),i=Math.max(i,e.getTotalLength())})),i}(t);switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*parseFloat(v(t.getAttribute("r"),"1"))}(t);case"rect":return function(t){return 2*parseFloat(v(t.getAttribute("width"),"1"))+2*parseFloat(v(t.getAttribute("height"),"1"))}(t);case"line":return function(t){return P({x:parseFloat(v(t.getAttribute("x1"),"1")),y:parseFloat(v(t.getAttribute("y1"),"1"))},{x:parseFloat(v(t.getAttribute("x2"),"1")),y:parseFloat(v(t.getAttribute("y2"),"1"))})}(t);case"polyline":return w(t);case"polygon":return function(t){var e=t.points;return w(t)+P(e.getItem(e.numberOfItems-1),e.getItem(0))}(t);default:return 0}}(t),a=e,s=0;Array.isArray(e)&&(a=e[0],e.length>=2&&(s=-1*e[1])),this.target=t,this.strokeDashoffset=h(f(t,"stroke-dashoffset"),o*s),this.strokeDasharray=h(f(t,"stroke-dasharray"),[a*o,o])},render:function(t,e){e.target.setAttribute("stroke-dashoffset",e.strokeDashoffset(t)),e.target.setAttribute("stroke-dasharray",e.strokeDasharray(t))}};(g||"undefined"!=typeof window&&(g=window.gsap)&&g.registerPlugin&&g)&&g.registerPlugin(E);var x={version:"1.0.0",name:"count",register:function(t,e,r){T=(C=t).utils.interpolate,A=function(t){return parseInt(t.toString(),10)}},init:function(t,e,r,n,i){var o=e,a=A;"object"==typeof e&&(o=v(e.value,0),e.format&&(a=e.format));var s=parseFloat(t.innerText);this.target=t,this.count=T(s,parseFloat(o.toString())),this.format=a},render:function(t,e){e.target.innerText=e.format(e.count(t))}};(C||"undefined"!=typeof window&&(C=window.gsap)&&C.registerPlugin&&C)&&C.registerPlugin(x),r.gsap.registerPlugin(E),r.gsap.registerPlugin(x);var k=function(t){function r(){var e;return(e=t.apply(this,arguments)||this).targets=[],e}s(r,t);var n=r.prototype;return n.setPlayState=function(t){d(t,this.props.playState,this.tween)},n.componentDidMount=function(){this.createTween()},n.componentWillUnmount=function(){this.tween&&this.tween.kill()},n.getSnapshotBeforeUpdate=function(){return this.targets=[],null},n.componentDidUpdate=function(t){var e=this.props,r=e.children,n=e.duration,i=e.to,s=e.progress,u=e.totalProgress,p=e.playState,c=e.disabled,g=e.onlyInvalidateTo,h=l(e,["children","wrapper","duration","from","to","stagger","progress","totalProgress","playState","disabled","onlyInvalidateTo","onCompleteAll","onCompleteAllParams","onCompleteAllScope","onStartAll","position","target"]);if(o.Children.count(t.children)!==o.Children.count(r)&&this.createTween(),!c){if(s!==t.progress&&this.tween.progress(s),u!==t.totalProgress&&this.tween.totalProgress(u),n!==t.duration&&this.tween.duration(n),m=t.to,JSON.stringify(i)!==JSON.stringify(m)){if(this.tween.getChildren)this.tween.getChildren(!1,!0,!1).forEach((function(t){t.vars=a(a(a({},i),h),{delay:0}),t.invalidate()}));else if(this.tween.vars=a(a({},i),h),g){var f=this.tween.progress();this.tween.progress(0).invalidate().progress(f)}else this.tween.invalidate();this.tween.paused()||this.tween.restart()}var m;d(p,t.playState,this.tween)}},n.createTween=function(){this.tween&&this.tween.kill(),this.tween=this.props.children?m(this.targets,this.props):function(){},this.context.registerConsumer(this)},n.getGSAP=function(){return this.tween},n.setGSAP=function(t){this.tween=t},n.addTarget=function(t){null!==t&&this.targets.push(t)},n.getTargets=function(){return this.targets},n.render=function(){var t=this,r=this.props,n=r.wrapper,i=o.createElement(e.Fragment,null,o.Children.map(r.children,(function(e){var r;return o.cloneElement(e,((r={})[y(e)]=function(e){return t.addTarget(e)},r))})));return n?o.cloneElement(n,[],i):i},r}(o.Component);k.displayName="Tween",k.contextType=S;var F,D=function(t){function i(e){var r;return(r=t.call(this,e)||this).targets=new Map,r.setTarget=r.setTarget.bind(u(r)),r}s(i,t);var p=i.prototype;return p.setPlayState=function(t){d(t,this.props.playState,this.timeline)},p.componentDidMount=function(){this.createTimeline()},p.componentWillUnmount=function(){this.timeline.kill()},p.getSnapshotBeforeUpdate=function(){return this.targets=new Map,null},p.componentDidUpdate=function(t){var e=this.props,r=e.children,n=e.duration,i=e.progress,a=e.totalProgress,s=e.playState;o.Children.count(t.children)!==o.Children.count(r)&&this.createTimeline(),i!==t.progress&&this.timeline.progress(i),a!==t.totalProgress&&this.timeline.totalProgress(a),n!==t.duration&&this.timeline.duration(n),d(s,t.playState,this.timeline)},p.createTimeline=function(){var t=this,e=this.props,n=e.duration,i=e.progress,o=e.totalProgress,s=e.playState,u=e.labels,p=l(e,["children","target","duration","progress","totalProgress","playState","labels","position"]);this.timeline&&this.timeline.kill(),this.timeline=r.gsap.timeline(a({smoothChildTiming:!0},p)),u&&u.forEach((function(e){t.timeline.addLabel(e.label,e.position)})),this.consumers.forEach((function(e){if(e.tween&&!e.props.children){var r=e.props,n=r.position,i=r.target,o=r.stagger,s=l(r,["position","target","stagger"]),u=null;null!=i&&(u=t.targets.get(i));var p=m(v(u,Array.from(t.targets.values())),a({stagger:o},s));t.timeline.add(p,v(n,"+=0")),e.setGSAP(p)}else{var c=e.props.position;t.timeline.add(e.getGSAP(),v(c,"+=0"))}})),n&&this.timeline.duration(n),i&&this.timeline.progress(i),o&&this.timeline.totalProgress(o),s&&this.setPlayState(s),this.context.registerConsumer(this)},p.getGSAP=function(){return this.timeline},p.addTarget=function(t){null!==t&&this.targets.set(this.targets.size,t)},p.setTarget=function(t,e){if(null!==e){if(this.targets.has(t)){var r=this.targets.get(t);if(Array.isArray(r))return void this.targets.set(t,[].concat(r,e))}this.targets.set(t,e)}},p.setTargets=function(t){this.targets=t},p.getTargets=function(){return this.targets},p.cloneElement=function(t){var e,r=this;return o.cloneElement(t,((e={})[y(t)]=function(t){return r.addTarget(t)},e))},p.renderTarget=function(t){var r=this;return t?n.isForwardRef(t)?o.createElement(t.type,{ref:{set:this.setTarget}}):o.createElement(e.Fragment,null,o.Children.map(t,(function(t){return n.isFragment(t)?o.Children.map(t.props.children,(function(t){return r.cloneElement(t)})):r.cloneElement(t)}))):null},p.render=function(){var t=this.props,r=t.children,n=t.wrapper,i=this.renderTarget(t.target),a=o.createElement(e.Fragment,null,i,r);return n&&(a=o.cloneElement(n,[],a)),this.renderWithProvider(a)},i}(b);D.displayName="Timeline",D.contextType=S,function(t){t[t.unknown=0]="unknown",t[t.entered=1]="entered",t[t.exited=2]="exited"}(F||(F={}));var I=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).triggerRef=null,e.observer=null,e.intersectionObserverCallback=function(t){for(var r,n=e.props,i=n.repeat,o=n.threshold,a=F.unknown,s=c(t);!(r=s()).done;){var l=r.value;if(l.isIntersecting&&l.intersectionRatio>=o){e.timeline.play(),a=F.entered;break}if(!l.isIntersecting){a=F.exited;break}}i||a!==F.entered?i&&a===F.exited&&e.timeline.pause(0):e.killIntersectionObserver()},e}s(e,t);var n=e.prototype;return n.init=function(){this.createTimeline(),this.createIntersectionObserver()},n.kill=function(){this.killTimeline(),this.killIntersectionObserver()},n.componentDidMount=function(){this.init()},n.componentWillUnmount=function(){this.kill()},n.componentDidUpdate=function(t){var e=this.props,r=e.children,n=e.trigger;o.Children.count(t.children)!==o.Children.count(r)&&this.init(),t.trigger!==n&&this.init()},n.createTimeline=function(){var t=this;this.killTimeline(),this.timeline=r.gsap.timeline({smoothChildTiming:!0,paused:!0}),this.consumers.forEach((function(e){var r=e.props.position;t.timeline.add(e.getGSAP().play(),v(r,0))}))},n.killTimeline=function(){this.timeline&&this.timeline.kill()},n.createIntersectionObserver=function(){var t=this,e=this.props;this.observer=new IntersectionObserver(this.intersectionObserverCallback,{root:e.root,rootMargin:e.rootMargin,threshold:[0,e.threshold]}),this.triggerRef?this.observer&&this.observer.observe(this.triggerRef):this.consumers.forEach((function(e){e.getTargets().forEach((function(e){t.observer&&t.observer.observe(e)}))}))},n.killIntersectionObserver=function(){this.unobserveAll(),this.observer=null},n.unobserveAll=function(){var t=this;this.observer&&(this.triggerRef?this.observer&&this.observer.unobserve(this.triggerRef):this.consumers.forEach((function(e){e.getTargets().forEach((function(e){t.observer&&t.observer.unobserve(e)}))})))},n.getGSAP=function(){return this.timeline},n.render=function(){var t=this,e=this.props,r=e.children,n=e.trigger,i=n?o.createElement(n.type,Object.assign({},n.props,{ref:function(e){return t.triggerRef=e}}),r):r;return this.renderWithProvider(i)},e}(b);I.displayName="Reveal",I.defaultProps={trigger:null,repeat:!1,root:null,rootMargin:"0px",threshold:.66};var O=o.forwardRef((function(t,e){var r=t.children,n=t.wrapper,i=t.delimiter,a=void 0===i?" ":i;if("string"!=typeof r)throw new Error("SplitWords only accepts a string as child.");var s,l,u=r.split(new RegExp("("+(s=a,l=new RegExp("(\\"+["$","^","*","(",")","+","[","]","{","}","\\","|",".","?","/"].join("|\\")+")","g"),s.replace(l,"\\$1")+")"),"g"));return o.createElement(o.Fragment,null,u.map((function(t,r){return" "===a&&t===a?o.createElement(o.Fragment,{key:r}," "):o.cloneElement(n,{ref:e,key:r},t)})))})),M=o.forwardRef((function(t,e){var r=t.children,n=t.wrapper;if("string"!=typeof r)throw new Error("SplitLetters only accepts a string as child.");return o.createElement(o.Fragment,null,r.split(/(?=(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/).map((function(t,r){return" "===t?o.createElement(o.Fragment,{key:r}," "):o.cloneElement(n,{ref:e,key:r},t)})))})),R=o.forwardRef((function(t,e){return console.log("Deprecation warning: Use SplitChars instead of SplitLetters"),o.createElement(M,Object.assign({},t,{ref:e}))}));t.Controls=function(e){function r(){var r;return(r=e.apply(this,arguments)||this).sliderTouched=!1,r.state={totalProgress:0,playState:void 0,prevPlayState:void 0},r.containerStyle={backgroundColor:"#f0f0f0",padding:"10px 10px 0 10px",marginTop:"10px",position:"relative",zIndex:2,fontFamily:"verdana, sans-serif",fontSize:"16px",border:"1px solid #ccc"},r.buttonContainerStyle={margin:"0",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},r.buttonStyle={border:"1px solid #999",backgroundColor:"#f0f0f0",padding:"5px",margin:"10px 10px 10px 0",cursor:"pointer"},r.sliderStyle={margin:"0",width:"100%"},r.playStateStyle={color:"#999",margin:"10px 0",fontSize:"14px"},r.onUpdate=function(){if(r.gsap&&r.slider&&!r.sliderTouched){var t=r.gsap.getGSAP().totalProgress();r.slider.value=100*t}},r.onChange=function(t){r.gsap&&r.gsap.getGSAP()&&r.gsap.getGSAP().totalProgress(t.target.value/100)},r.setPlayState=function(t){r.setState((function(e){return{playState:t,prevPlayState:e.playState}}))},r.getControls=function(e,n){return o.createElement("div",{style:r.containerStyle},o.createElement("input",{ref:function(t){return r.slider=t},type:"range",style:r.sliderStyle,step:"0.001",onChange:function(t){return r.onChange(t)},onMouseDown:function(){return r.sliderTouched=!0},onMouseUp:function(){return r.sliderTouched=!1}}),o.createElement("div",{style:r.buttonContainerStyle},o.createElement("div",null,o.createElement("button",{type:"button",style:r.buttonStyle,onClick:function(){return r.setPlayState(t.PlayState.play)}},"Play"),o.createElement("button",{type:"button",style:r.buttonStyle,onClick:function(){return r.setPlayState(t.PlayState.reverse)}},"Reverse"),o.createElement("button",{type:"button",style:r.buttonStyle,onClick:function(){return r.setPlayState(t.PlayState.pause)}},"Pause"),o.createElement("button",{type:"button",style:r.buttonStyle,onClick:function(){return r.setPlayState(t.PlayState.stop)}},"Stop")),o.createElement("span",{style:r.playStateStyle},n)))},r}s(r,e);var n=r.prototype;return n.componentDidMount=function(){if(this.consumers.length){this.gsap=this.consumers[0];var e=this.gsap.getGSAP();if(e){e.eventCallback("onUpdate",this.onUpdate),this.props.playState?this.setPlayState(this.props.playState):e.paused()?this.setPlayState(t.PlayState.pause):e.reversed()?this.setPlayState(t.PlayState.reverse):this.setPlayState(t.PlayState.play);var r=e.totalProgress();this.slider.value=100*r}}},n.componentDidUpdate=function(){this.onUpdate()},n.render=function(){var t=this.props.children,e=this.state,r=e.totalProgress,n=e.playState;return this.gsap&&d(n,e.prevPlayState,this.gsap.getGSAP()),this.renderWithProvider(o.createElement("div",null,t,this.getControls(r,n)))},r}(b),t.Reveal=I,t.SplitChars=M,t.SplitLetters=R,t.SplitWords=O,t.Timeline=D,t.Tween=k,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=react-gsap.umd.production.min.js.map
